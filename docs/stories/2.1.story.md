# Story 2.1: Homepage Hero Section

## Status

Done

## Story

**As a** visitor,
**I want** an impactful hero section that immediately communicates the agency's value,
**so that** I understand what this agency does and feel compelled to learn more.

## Acceptance Criteria

1. Headline communicating honest, results-driven positioning
2. Subheadline expanding on the value proposition
3. Illustration placeholder (or actual illustration if available)
4. Primary CTA button ("Book Free Consultation" or similar)
5. Secondary CTA option ("View Pricing" or "Learn More")
6. Responsive layout (image/text arrangement adapts to screen size)
7. Hero section is visually compelling with brand colors and typography

## Tasks / Subtasks

- [x] Task 1: Create Hero section component (AC: 1, 2, 7)
  - [x] Create new file `components/sections/hero.tsx`
  - [x] Define `HeroProps` interface with typed props for headline, subheadline, CTAs
  - [x] Add JSDoc documentation for component
  - [x] Implement headline with `text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight`
  - [x] Implement subheadline with `text-lg md:text-xl text-muted-foreground`
  - [x] Use brand primary color for headline emphasis if needed
  - [x] Apply proper spacing between elements (`mt-6`, `mt-10`, etc.)

- [x] Task 2: Implement CTA buttons (AC: 4, 5)
  - [x] Add primary CTA button using existing Button component with `size="lg"`
  - [x] Add secondary CTA button with `variant="outline"` and `size="lg"`
  - [x] Primary CTA links to `/contact` (Book Free Consultation)
  - [x] Secondary CTA links to `/pricing` (View Pricing)
  - [x] Wrap buttons in Link components from `next/link`
  - [x] Use flexbox layout with `gap-4` for button spacing
  - [x] Stack buttons on mobile, side-by-side on desktop (`flex-col sm:flex-row`)

- [x] Task 3: Add illustration placeholder (AC: 3, 6)
  - [x] Create placeholder div for illustration with proper dimensions
  - [x] Use placeholder background color (`bg-muted`) or placeholder image
  - [x] Set responsive dimensions: smaller on mobile, larger on desktop
  - [x] Plan for future SVG/image replacement via `next/image`
  - [x] Consider aspect ratio constraints (e.g., 4:3 or 16:9)

- [x] Task 4: Implement responsive layout (AC: 6)
  - [x] Use CSS Grid or Flexbox for two-column layout on desktop
  - [x] Text content on left, illustration on right (desktop)
  - [x] Stack layout on mobile: text on top, illustration below
  - [x] Breakpoint at `lg:` for column switch
  - [x] Center text on mobile, left-align on desktop
  - [x] Ensure proper spacing at all breakpoints

- [x] Task 5: Apply brand styling (AC: 7)
  - [x] Use Container component with appropriate size
  - [x] Apply section padding `py-16 md:py-24 lg:py-32`
  - [x] Ensure text colors use theme tokens (`text-foreground`, `text-muted-foreground`)
  - [x] Primary CTA uses default Button (primary variant)
  - [x] Add subtle background gradient or color if appropriate
  - [x] Verify visual alignment with brand guidelines

- [x] Task 6: Update homepage to use Hero component (AC: all)
  - [x] Import Hero component in `app/page.tsx`
  - [x] Replace current placeholder section with Hero component
  - [x] Pass appropriate props for headline, subheadline, and CTAs
  - [x] Verify page renders correctly

- [x] Task 7: Write unit tests for Hero component (AC: all)
  - [x] Create `tests/components/sections/hero.test.tsx`
  - [x] Test: Hero renders headline text
  - [x] Test: Hero renders subheadline text
  - [x] Test: Primary CTA button renders with correct text
  - [x] Test: Secondary CTA button renders with correct text
  - [x] Test: CTA buttons have correct href attributes
  - [x] Test: Illustration placeholder renders

- [x] Task 8: Final verification (AC: all)
  - [x] Run `npm run lint` - ensure no errors
  - [x] Run `npm run build` - ensure successful build
  - [x] Run `npm run test:run` - ensure all tests pass
  - [x] Manually verify responsive behavior at mobile, tablet, desktop
  - [x] Verify keyboard navigation works for CTAs

## Dev Notes

### Previous Story Insights (Story 1.5)
[Source: docs/stories/1.5.story.md#dev-agent-record]

- Homepage currently has a placeholder hero with basic structure
- Layout uses `min-h-screen flex flex-col` for sticky footer pattern
- Container component available at `components/layout/container.tsx` with size variants (sm, md, lg, xl, full)
- Button component available with multiple variants and sizes
- `cn()` utility in `lib/utils.ts` for className merging
- 65 total tests passing with Vitest + React Testing Library
- Current homepage structure to replace:
  ```tsx
  <section className="py-16 md:py-24">
    <Container>
      <div className="text-center max-w-3xl mx-auto">
        <h1>...</h1>
        <p>...</p>
        <Button>...</Button>
      </div>
    </Container>
  </section>
  ```

### Hero Component Specification
[Source: docs/architecture/components.md#hero]

```
Hero
- Responsibility: Homepage hero with headline, subheadline, CTAs, illustration
- Key Interfaces: headline, subheadline, primaryCta, secondaryCta, imageUrl
- Dependencies: Button, Next/Image
- Technology Stack: React, Tailwind, Next.js Image
```

### Component File Location
[Source: docs/architecture/unified-project-structure.md]

```
components/
├── sections/              # Page section components
│   ├── hero.tsx           # NEW - Create here
│   ├── services-overview.tsx
│   └── ...
```

### Existing Components to Use
[Source: docs/architecture/frontend-architecture.md, current codebase]

1. **Container** (`components/layout/container.tsx`)
   - Use for consistent max-width and padding
   - Supports size variants: sm, md, lg, xl, full
   - Default size is "xl"

2. **Button** (`components/ui/button.tsx`)
   - Use for CTAs
   - Variants: default (primary), outline, ghost, link
   - Sizes: default, sm, lg, icon

### Responsive Design Patterns
[Source: docs/architecture/tech-stack.md, PRD UI guidelines]

- Mobile-first approach with breakpoints: `sm:`, `md:`, `lg:`, `xl:`
- Text sizing: `text-4xl md:text-5xl lg:text-6xl` for hero headlines
- Section padding: `py-16 md:py-24 lg:py-32` for major sections
- Stack to row pattern: `flex-col sm:flex-row` for CTA buttons
- Grid layout: `grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12`

### Brand Colors and Typography
[Source: docs/prd.md#branding, Tailwind config]

- Primary Color: Blue (trust, professionalism) - use `bg-primary`, `text-primary`
- Accent Color: Orange (warmth, CTAs, energy) - use `bg-accent`, `text-accent`
- Typography: Rounded sans-serif (configured in Tailwind)
- UI Style: Rounded edges (`rounded-lg`, `rounded-xl`), ample whitespace
- Text colors: `text-foreground` (main), `text-muted-foreground` (secondary)

### Accessibility Requirements
[Source: docs/prd.md#accessibility, docs/architecture/coding-standards.md]

- WCAG 2.1 AA compliance required
- Proper heading hierarchy (h1 for hero headline)
- Focus indicators for interactive elements (buttons)
- Keyboard navigability for all CTAs
- Sufficient color contrast (4.5:1 for text)

### Hero Content (Placeholder)
[Source: docs/prd.md#hero-section]

Based on PRD positioning - use placeholder text that can be updated:

- **Headline example:** "Grow Your Amazon & Etsy Business with Honest Expertise"
- **Subheadline example:** "Results-driven consulting that focuses on real growth, not empty promises. Transparent pricing, practical strategies."
- **Primary CTA:** "Book Free Consultation"
- **Secondary CTA:** "View Pricing"

### Props Interface Design
[Source: docs/architecture/coding-standards.md, frontend-architecture.md]

```typescript
/**
 * Props for the Hero component.
 */
interface HeroProps {
  /** Main headline text */
  headline: string;
  /** Supporting subheadline text */
  subheadline: string;
  /** Primary call-to-action configuration */
  primaryCta: {
    text: string;
    href: string;
  };
  /** Optional secondary call-to-action configuration */
  secondaryCta?: {
    text: string;
    href: string;
  };
  /** Optional illustration image URL */
  imageUrl?: string;
  /** Optional alt text for illustration */
  imageAlt?: string;
}
```

### Illustration Strategy
[Source: docs/prd.md#branding]

For MVP/placeholder:
- Use a styled div with `bg-muted rounded-xl` as placeholder
- Add descriptive text inside: "Illustration Placeholder"
- Set aspect ratio with `aspect-[4/3]` or fixed height
- Later: Replace with actual SVG illustration or optimized image via `next/image`

### Coding Standards Checklist
[Source: docs/architecture/coding-standards.md]

- [ ] Type Everything: All functions with explicit TypeScript types
- [ ] Component Props: Typed props interface with JSDoc
- [ ] JSDoc Documentation: Component, props, and any helpers
- [ ] Image Handling: Use `next/image` when adding real images
- [ ] Accessibility: Keyboard accessible CTAs, proper heading level
- [ ] No Console Logs: Remove any debugging statements

## Testing

[Source: docs/architecture/testing-strategy.md]

### Test Location
`tests/components/sections/hero.test.tsx`

### Testing Framework
- Vitest + React Testing Library
- Import from `@testing-library/react`
- Use `describe`, `it`, `expect` from `vitest`

### Required Tests

```typescript
import { render, screen } from '@testing-library/react';
import { describe, it, expect } from 'vitest';
import { Hero } from '@/components/sections/hero';

const defaultProps = {
  headline: 'Test Headline',
  subheadline: 'Test subheadline text',
  primaryCta: { text: 'Primary CTA', href: '/contact' },
  secondaryCta: { text: 'Secondary CTA', href: '/pricing' },
};

describe('Hero', () => {
  it('renders the headline as h1', () => {
    render(<Hero {...defaultProps} />);
    expect(screen.getByRole('heading', { level: 1 })).toHaveTextContent('Test Headline');
  });

  it('renders the subheadline', () => {
    render(<Hero {...defaultProps} />);
    expect(screen.getByText('Test subheadline text')).toBeInTheDocument();
  });

  it('renders primary CTA button', () => {
    render(<Hero {...defaultProps} />);
    expect(screen.getByRole('link', { name: /primary cta/i })).toHaveAttribute('href', '/contact');
  });

  it('renders secondary CTA button when provided', () => {
    render(<Hero {...defaultProps} />);
    expect(screen.getByRole('link', { name: /secondary cta/i })).toHaveAttribute('href', '/pricing');
  });

  it('does not render secondary CTA when not provided', () => {
    const { secondaryCta, ...propsWithoutSecondary } = defaultProps;
    render(<Hero {...propsWithoutSecondary} />);
    expect(screen.queryByRole('link', { name: /secondary cta/i })).not.toBeInTheDocument();
  });

  it('renders illustration placeholder', () => {
    render(<Hero {...defaultProps} />);
    // Test for placeholder element
    expect(screen.getByTestId('hero-illustration')).toBeInTheDocument();
  });
});
```

### Test Coverage Goals
- All acceptance criteria covered by at least one test
- Component renders correctly with all required props
- Optional props work correctly (secondary CTA, image)
- Links have correct href attributes

## Dev Agent Record

### Agent Model Used
claude-opus-4-5-20251101

### File List

| File | Action | Description |
|------|--------|-------------|
| components/sections/hero.tsx | Created | Hero section component with headline, subheadline, CTAs, illustration placeholder |
| app/page.tsx | Modified | Updated to use new Hero component |
| tests/components/sections/hero.test.tsx | Created | Unit tests for Hero component (8 tests) |
| tests/app/page.test.tsx | Modified | Updated tests to reflect new Hero content |

### Debug Log References
N/A - No debug issues encountered

### Completion Notes

- Hero component implemented with full TypeScript typing and JSDoc documentation
- Responsive two-column layout: grid-based with `lg:` breakpoint for column switch
- Mobile-first design: stacked layout on mobile, side-by-side on desktop
- Text centered on mobile, left-aligned on desktop
- Illustration placeholder uses `bg-muted rounded-xl` with aspect ratio `4:3`
- CTA buttons use existing Button component with `asChild` pattern for Next.js Link integration
- Primary CTA → `/contact`, Secondary CTA → `/pricing`
- All 73 tests passing (including 8 new Hero tests)
- Lint and build pass with no errors
- Component supports optional `imageUrl` prop for future real illustration integration

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-05 | 1.0 | Initial story draft | SM Agent (Bob) |
| 2025-12-05 | 1.1 | Implementation complete | Dev Agent (James) |

## QA Results

### Review Date: 2025-12-05

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment

Excellent implementation. The Hero component demonstrates strong TypeScript practices with well-designed interfaces (`HeroProps`, `CtaConfig`), comprehensive JSDoc documentation including usage examples, and proper semantic HTML structure. The component follows mobile-first responsive design patterns and correctly leverages existing UI components (`Container`, `Button`) with the `asChild` pattern for Next.js Link integration.

### Refactoring Performed

None required. Code quality meets standards.

### Compliance Check

- Coding Standards: ✓ TypeScript fully typed, JSDoc complete, no console.logs
- Project Structure: ✓ File placed in `components/sections/hero.tsx` as specified
- Testing Strategy: ✓ 14 tests covering component and integration (8 Hero + 6 page tests)
- All ACs Met: ✓ All 7 acceptance criteria fully implemented and tested

### Improvements Checklist

- [x] All acceptance criteria implemented
- [x] TypeScript interfaces properly defined
- [x] JSDoc documentation complete with examples
- [x] Responsive layout verified (mobile/tablet/desktop)
- [x] Accessibility: semantic h1, keyboard-accessible CTAs
- [x] All 73 tests passing
- [x] Lint passes with no errors
- [x] Build succeeds

### Security Review

No security concerns. Component is purely presentational with no user input handling, API calls, or data processing.

### Performance Considerations

No performance concerns. Lightweight UI component with no heavy operations. Note: When real images are added, ensure `next/image` is used for optimization (currently uses placeholder div or img tag with eslint-disable for MVP).

### Files Modified During Review

None - no refactoring was necessary.

### Gate Status

Gate: PASS → docs/qa/gates/2.1-homepage-hero-section.yml

### Recommended Status

✓ Ready for Done - All acceptance criteria met, tests passing, code quality excellent
