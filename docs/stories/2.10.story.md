# Story 2.10: Etsy Services Page

## Status

Done

## Story

**As an** Etsy seller,
**I want** a dedicated page detailing all Etsy-specific services,
**so that** I can understand exactly how the agency can help my Etsy shop.

## Acceptance Criteria

1. Page hero with Etsy-focused headline and context
2. List of all Etsy services with descriptions:
   - Shop Setup & Configuration
   - SEO & Search Optimization
   - Etsy Marketing & Promotion
   - Listing Optimization
   - Shop Management & Growth
3. Each service has icon, title, and 2-3 sentence description
4. CTA to book consultation or view pricing
5. Consistent styling with homepage
6. SEO meta tags specific to Etsy services

## Tasks / Subtasks

- [x] Task 1: Create Etsy services page route (AC: 5)
  - [x] Create directory `app/services/etsy/`
  - [x] Create `app/services/etsy/page.tsx` file
  - [x] Export default page component with proper TypeScript types
  - [x] Add JSDoc documentation for the page component

- [x] Task 2: Implement page SEO metadata (AC: 6)
  - [x] Export `metadata` object with title: "Etsy Services | [Site Name]"
  - [x] Add meta description targeting Etsy sellers
  - [x] Include OpenGraph tags for social sharing

- [x] Task 3: Create Etsy services content data (AC: 2)
  - [x] Create `content/services/etsy.json` with 5 services:
    - Shop Setup & Configuration
    - SEO & Search Optimization
    - Etsy Marketing & Promotion
    - Listing Optimization
    - Shop Management & Growth
  - [x] Each service includes id, platform, title, description, icon, features

- [x] Task 4: Add content accessor function (AC: 2)
  - [x] Add `getEtsyServices()` function to `lib/content.ts`
  - [x] Return typed `Service[]` array
  - [x] Add JSDoc documentation with example usage

- [x] Task 5: Integrate components on Etsy page (AC: 1, 2, 3, 4, 5)
  - [x] Import ServiceHero and ServiceListSection components (already exist from Story 2.9)
  - [x] Import getEtsyServices content accessor
  - [x] Render ServiceHero with Etsy-focused headline and `platform="etsy"`
  - [x] Render ServiceListSection with Etsy services
  - [x] Add bottom CTA section with buttons to contact and pricing

- [x] Task 6: Write page integration test (AC: all)
  - [x] Create `tests/app/services/etsy.test.tsx`
  - [x] Test: Etsy services page renders ServiceHero
  - [x] Test: page renders all 5 Etsy services
  - [x] Test: CTA links point to correct destinations
  - [x] Test: platform styling applied (etsy/accent color)

- [x] Task 7: Final verification (AC: all)
  - [x] Run `npm run lint` - ensure no errors
  - [x] Run `npm run build` - ensure successful build
  - [x] Run `npm run test:run` - ensure all tests pass
  - [x] Verify navigation from homepage ServicesOverview card works

## Dev Notes

### Previous Story Insights (Story 2.9)
[Source: docs/stories/2.9.story.md#dev-agent-record]

- 190 tests passing with Vitest + React Testing Library
- **All reusable components already created in Story 2.9:**
  - `ServiceHero` component at `components/sections/service-hero.tsx`
  - `ServiceListSection` component at `components/sections/service-list.tsx`
  - `ServiceCard` component at `components/cards/service-card.tsx`
- ServiceHero accepts `platform` prop for platform-specific styling:
  - Amazon: `primary` color (Blue) for accents
  - **Etsy: `accent` color (Orange) for accents**
- Container component at `components/layout/container.tsx` provides consistent max-width
- Button component with `asChild` pattern for Link wrapping: `<Button asChild><Link href="...">Text</Link></Button>`
- `Service` interface already exists in `lib/types.ts`
- Content accessor pattern established with `getAmazonServices()` in `lib/content.ts`
- Lint and build passing

### Component File Locations
[Source: docs/architecture/unified-project-structure.md]

```
app/
├── services/
│   ├── amazon/
│   │   └── page.tsx           # EXISTS - Reference for page structure
│   └── etsy/
│       └── page.tsx           # NEW - Create here

components/
├── sections/
│   ├── service-hero.tsx       # EXISTS - Reuse (supports platform="etsy")
│   └── service-list.tsx       # EXISTS - Reuse
├── cards/
│   └── service-card.tsx       # EXISTS - Reuse

content/
├── services/
│   ├── amazon.json            # EXISTS - Reference for structure
│   └── etsy.json              # NEW - Create here

lib/
├── types.ts                   # EXISTS - Service interface already defined
├── content.ts                 # EXISTS - Add getEtsyServices()
└── utils.ts                   # EXISTS - cn() utility
```

### Service Interface (Already Exists)
[Source: lib/types.ts]

```typescript
/**
 * Represents a service offering for Amazon or Etsy sellers.
 * Used throughout the site for service cards, listings, and detail pages.
 */
export interface Service {
  /** Unique identifier for the service */
  id: string;
  /** Target marketplace platform */
  platform: 'amazon' | 'etsy';
  /** Display title for the service */
  title: string;
  /** Brief description shown on service cards */
  description: string;
  /** Icon name from the icon library */
  icon: string;
  /** List of features included in this service */
  features: string[];
}
```

### Etsy Services Content
[Source: docs/prd/epic-details.md#story-210]

Create 5 services with the following titles:
1. **Shop Setup & Configuration** - Help new sellers get started on Etsy with proper shop configuration
2. **SEO & Search Optimization** - Optimize listings for Etsy's search algorithm to improve visibility
3. **Etsy Marketing & Promotion** - Develop marketing strategies including Etsy Ads and offsite channels
4. **Listing Optimization** - Improve titles, descriptions, tags, and photos for better conversion
5. **Shop Management & Growth** - Ongoing support for scaling and growing your Etsy business

### ServiceHero Component (Already Exists)
[Source: components/sections/service-hero.tsx, Story 2.9]

```typescript
/**
 * Props for the ServiceHero component.
 */
export interface ServiceHeroProps {
  /** Main headline text */
  headline: string;
  /** Supporting subheadline text */
  subheadline: string;
  /** Platform for styling (amazon or etsy) */
  platform: 'amazon' | 'etsy';
  /** Optional illustration image URL */
  imageUrl?: string;
  /** Optional alt text for illustration */
  imageAlt?: string;
}
```

**For Etsy page, use:**
- `platform="etsy"` - Applies accent (Orange) color styling
- Etsy-focused headline and subheadline text

### Page Structure (Reference Amazon Page)
[Source: app/services/amazon/page.tsx]

The Etsy page should follow the exact same structure as the Amazon page:
1. Metadata export with Etsy-specific title/description
2. ServiceHero with `platform="etsy"`
3. ServiceListSection with Etsy services
4. Bottom CTA section

### Page Metadata (Next.js App Router)
[Source: docs/architecture/frontend-architecture.md]

```typescript
import type { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'Etsy Services | Agency Name',
  description: 'Expert Etsy consulting services including shop setup, SEO optimization, marketing, listing optimization, and growth strategies.',
  openGraph: {
    title: 'Etsy Services | Agency Name',
    description: 'Expert Etsy consulting services for sellers.',
    type: 'website',
  },
};
```

### Content Accessor Pattern
[Source: lib/content.ts]

```typescript
import etsyServicesData from '@/content/services/etsy.json';
import type { Service } from './types';

/**
 * Retrieves all Etsy-specific services.
 *
 * @returns Array of Etsy services
 *
 * @example
 * ```ts
 * const services = getEtsyServices();
 * // Returns Service[] for Etsy platform
 * ```
 */
export function getEtsyServices(): Service[] {
  return etsyServicesData as Service[];
}
```

### Existing UI Components to Use
[Source: Current codebase, Story 2.9]

1. **ServiceHero** (`components/sections/service-hero.tsx`)
   - Already supports `platform="etsy"` with accent color styling
   - Includes CTA buttons to /contact and /pricing

2. **ServiceListSection** (`components/sections/service-list.tsx`)
   - Renders services in responsive grid (1→2→3 columns)
   - Uses Container wrapper

3. **ServiceCard** (`components/cards/service-card.tsx`)
   - Displays individual service with icon, title, description

4. **Button** (`components/ui/button.tsx`)
   - Use with `asChild` for Link wrapping
   - Variants: default (primary), outline, secondary

5. **Container** (`components/layout/container.tsx`)
   - Consistent max-width and padding

### CTA Section Pattern
[Source: app/services/amazon/page.tsx]

```typescript
<div className="text-center mt-12">
  <div className="flex flex-col sm:flex-row gap-4 justify-center">
    <Button asChild size="lg">
      <Link href="/contact">Book Free Consultation</Link>
    </Button>
    <Button asChild variant="outline" size="lg">
      <Link href="/pricing">View Pricing</Link>
    </Button>
  </div>
</div>
```

### Accessibility Requirements
[Source: docs/prd.md, docs/architecture/coding-standards.md]

- WCAG 2.1 AA compliance required
- Proper heading hierarchy (h1 for page hero, h2 for section headlines, h3 for card titles)
- Semantic HTML (main, section, article elements)
- Focus indicators must be visible
- All interactive elements keyboard accessible

### Coding Standards Checklist
[Source: docs/architecture/coding-standards.md]

- [ ] Type Everything: All functions with explicit TypeScript types
- [ ] Component Props: Typed props interface with JSDoc
- [ ] JSDoc Documentation: Component, props, and any helpers
- [ ] Content via Accessors: Use lib/content.ts, not direct JSON imports
- [ ] Image Handling: Use next/image for any images
- [ ] Accessibility: Proper semantic HTML, keyboard accessible
- [ ] No Console Logs: Remove any debugging statements

## Testing

[Source: docs/architecture/testing-strategy.md]

### Test Locations
- `tests/app/services/etsy.test.tsx` - Page integration tests

### Testing Framework
- Vitest + React Testing Library
- Import from `@testing-library/react`
- Use `describe`, `it`, `expect` from `vitest`

### Page Integration Test Examples

```typescript
import { render, screen } from '@testing-library/react';
import { describe, it, expect } from 'vitest';
import EtsyServicesPage from '@/app/services/etsy/page';

describe('Etsy Services Page', () => {
  it('renders the ServiceHero with Etsy headline', () => {
    render(<EtsyServicesPage />);
    expect(screen.getByRole('heading', { level: 1 })).toHaveTextContent(/etsy/i);
  });

  it('renders all 5 Etsy services', () => {
    render(<EtsyServicesPage />);
    expect(screen.getByText('Shop Setup & Configuration')).toBeInTheDocument();
    expect(screen.getByText('SEO & Search Optimization')).toBeInTheDocument();
    expect(screen.getByText('Etsy Marketing & Promotion')).toBeInTheDocument();
    expect(screen.getByText('Listing Optimization')).toBeInTheDocument();
    expect(screen.getByText('Shop Management & Growth')).toBeInTheDocument();
  });

  it('renders CTA buttons with correct hrefs', () => {
    render(<EtsyServicesPage />);
    expect(screen.getByRole('link', { name: /Book.*Consultation/i })).toHaveAttribute('href', '/contact');
    expect(screen.getByRole('link', { name: /View Pricing/i })).toHaveAttribute('href', '/pricing');
  });

  it('applies Etsy platform styling', () => {
    render(<EtsyServicesPage />);
    // Verify accent color styling is applied (implementation-specific)
    const hero = screen.getByTestId('service-hero');
    expect(hero).toHaveClass('etsy'); // Or check for accent color classes
  });
});
```

### Test Coverage Goals
- All acceptance criteria covered by at least one test
- Page renders correctly with all 5 services
- Interactive elements have correct destinations
- Platform-specific styling verified

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-05 | 1.0 | Initial story draft | SM Agent (Bob) |
| 2025-12-05 | 1.1 | Implementation complete | Dev Agent (James) |

---

## Dev Agent Record

### Agent Model Used

Claude Opus 4.5 (claude-opus-4-5-20251101)

### File List

**New Files:**
- `app/services/etsy/page.tsx` - Etsy services page component with metadata
- `content/services/etsy.json` - Etsy services content data (5 services)
- `tests/app/services/etsy.test.tsx` - Page integration tests (9 tests)

**Modified Files:**
- `lib/content.ts` - Added `getEtsyServices()` accessor function

### Debug Log References

None - implementation was straightforward with no blocking issues.

### Completion Notes

- All 7 tasks completed successfully
- Reused existing components from Story 2.9 (ServiceHero, ServiceListSection, ServiceCard)
- Page follows exact same structure as Amazon services page
- 199 total tests passing (9 new tests for Etsy page)
- Lint passes with no errors
- Build succeeds - Etsy page at 177B, same as Amazon page
- Platform styling verified via accent color gradient class (from-accent/10)

---

## QA Results

### Review Date: 2025-12-05

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment

**Overall: Excellent** — Implementation is clean, well-structured, and follows established patterns from Story 2.9. The page reuses existing components effectively (ServiceHero, ServiceListSection, ServiceCard) and maintains perfect consistency with the Amazon services page structure.

**Strengths:**
- Perfect mirror of Amazon page structure ensuring consistency
- Proper use of content accessor pattern (`getEtsyServices()`)
- Complete JSDoc documentation on all public elements
- TypeScript types properly applied throughout
- Semantic HTML structure with appropriate heading hierarchy
- Platform-specific styling correctly applied via `platform="etsy"` prop

### Refactoring Performed

None required — implementation meets all quality standards.

### Compliance Check

- Coding Standards: ✓ All rules followed (typed props, content accessors, JSDoc, no console logs)
- Project Structure: ✓ Files placed correctly per unified-project-structure.md
- Testing Strategy: ✓ Appropriate test coverage with 9 integration tests
- All ACs Met: ✓ All 6 acceptance criteria fully implemented and tested

### Requirements Traceability (Given-When-Then)

| AC | Scenario | Test Coverage |
|----|----------|---------------|
| AC1 | **Given** user visits /services/etsy **When** page loads **Then** hero displays Etsy-focused headline | `renders ServiceHero with Etsy headline` |
| AC2 | **Given** user visits /services/etsy **When** page loads **Then** 5 Etsy services displayed | `renders all 5 Etsy services` |
| AC3 | **Given** user views service list **When** examining cards **Then** each has icon, title, description | `renders 5 service cards with icons` |
| AC4 | **Given** user wants to contact **When** viewing page **Then** CTA buttons link to /contact and /pricing | `renders CTA links in hero section pointing to contact/pricing` |
| AC5 | **Given** user compares with homepage **When** viewing Etsy page **Then** styling is consistent | `applies Etsy platform styling via ServiceHero` |
| AC6 | **Given** search engines crawl page **When** parsing meta tags **Then** Etsy-specific SEO tags present | Verified via metadata export in page.tsx |

### Improvements Checklist

- [x] All acceptance criteria implemented
- [x] All tests passing (199 total, 9 new for this story)
- [x] Lint passes with no errors
- [x] Build succeeds
- [x] JSDoc documentation complete
- [x] TypeScript types properly applied
- [x] Content accessor pattern used
- [x] Platform styling correctly applied

### Security Review

No security concerns — this is a static content page with no user input, authentication, or data processing.

### Performance Considerations

No performance concerns identified:
- Page uses static generation (no dynamic data fetching)
- Build output shows 177B — optimal bundle size
- Reuses existing components (no code duplication)

### Files Modified During Review

None — implementation meets all quality standards without requiring changes.

### Gate Status

**Gate: PASS** → docs/qa/gates/2.10-etsy-services-page.yml

### Recommended Status

✓ **Ready for Done** — All acceptance criteria met, tests passing, code quality excellent.
